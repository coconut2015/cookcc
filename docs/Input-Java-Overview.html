

<!DOCTYPE html>
<!--[if IE 8]><html class="no-js lt-ie9" lang="en" > <![endif]-->
<!--[if gt IE 8]><!--> <html class="no-js" lang="en" > <!--<![endif]-->
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Overview &mdash; CookCC 0.4.3 documentation</title>
  

  
  
  
  

  

  
  
    

  

  
  
    <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  

  
    <link rel="stylesheet" href="_static/theme_overrides.css" type="text/css" />
  

  
        <link rel="index" title="Index"
              href="genindex.html"/>
        <link rel="search" title="Search" href="search.html"/>
    <link rel="top" title="CookCC 0.4.3 documentation" href="index.html"/> 

  
  <script src="_static/js/modernizr.min.js"></script>

</head>

<body class="wy-body-for-nav" role="document">

   
  <div class="wy-grid-for-nav">

    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search">
          

          
            <a href="TOC.html" class="icon icon-home"> CookCC
          

          
          </a>

          
            
            
              <div class="version">
                0.4.3
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul>
<li class="toctree-l1"><a class="reference internal" href="index.html">CookCC documentation</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/coconut2015/cookcc/blob/master/doc/CookCC.pdf">Tutorial (pdf)</a></li>
<li class="toctree-l1"><a class="reference internal" href="Command-Line.html">Command Line Options</a></li>
<li class="toctree-l1"><a class="reference internal" href="Maven.html">Maven</a></li>
<li class="toctree-l1"><a class="reference internal" href="Ant-Task.html">Ant Task</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lexer.html">Lexer</a></li>
<li class="toctree-l1"><a class="reference internal" href="Lexer-Patterns.html">Regular Expression</a></li>
<li class="toctree-l1"><a class="reference internal" href="Parser.html">Parser</a></li>
</ul>
<p class="caption"><span class="caption-text">Input</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Input-Java.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="Input-XML.html">XML</a></li>
<li class="toctree-l1"><a class="reference internal" href="Input-Yacc.html">Yacc</a></li>
</ul>
<p class="caption"><span class="caption-text">Output</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="Output-Java.html">Java</a></li>
<li class="toctree-l1"><a class="reference internal" href="Output-Plain.html">Plain Text</a></li>
<li class="toctree-l1"><a class="reference internal" href="Output-XML.html">XML</a></li>
<li class="toctree-l1"><a class="reference internal" href="Output-Yacc.html">Yacc</a></li>
</ul>
<p class="caption"><span class="caption-text">Miscellaneous</span></p>
<ul>
<li class="toctree-l1"><a class="reference external" href="http://www.javadoc.io/doc/org.yuanheng.cookcc/cookcc/0.4.0">JavaDoc</a></li>
<li class="toctree-l1"><a class="reference internal" href="Troubleshooting.html">Troubleshooting</a></li>
<li class="toctree-l1"><a class="reference external" href="https://github.com/coconut2015/cookcc/tree/master/tests">Test cases</a></li>
<li class="toctree-l1"><a class="reference external" href="https://groups.google.com/forum/#!forum/cookcc">Discussion group</a></li>
<li class="toctree-l1"><a class="reference external" href="https://www.apache.org/licenses/LICENSE-2.0">LICENSE</a></li>
<li class="toctree-l1"><a class="reference internal" href="Input-Encoding-Detection.html">Input Encoding Detection</a></li>
<li class="toctree-l1"><a class="reference external" href="http://www.manpagez.com/man/7/ascii/">ASCII map</a></li>
<li class="toctree-l1"><a class="reference external" href="http://www.unicodemap.org/">Unicode map</a></li>
</ul>

            
          
        </div>
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" role="navigation" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="TOC.html">CookCC</a>
        
      </nav>


      
      <div class="wy-nav-content">
        <div class="rst-content">
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="TOC.html">Docs</a> &raquo;</li>
        
      <li>Overview</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="overview">
<h1>Overview<a class="headerlink" href="#overview" title="Permalink to this headline">¶</a></h1>
<p>The following example is a simple <a class="reference external" href="https://github.com/coconut2015/cookcc/tree/master/tests/javaap/calc">calculator script
interpreter</a>
adapted from <a class="reference external" href="http://epaperpress.com/lexandyacc/">A Compact Guide to Lex &amp;
Yacc</a>.</p>
<div class="section" id="setup">
<h2>Setup<a class="headerlink" href="#setup" title="Permalink to this headline">¶</a></h2>
<p>First, add CookCC jar file to your project path. This jar file is only
required for building the parser, and setting up the ant task. It is not
required at runtime.</p>
<div class="section" id="first-step-annotate-a-class">
<h3>First Step: Annotate a Class<a class="headerlink" href="#first-step-annotate-a-class" title="Permalink to this headline">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">&#64;CookCCOption</span></code> is used to mark a class that uses the generated
lexer/parser. In the following example, we mark the <code class="docutils literal notranslate"><span class="pre">Calculator</span></code>
class.</p>
<div class="code java highlight-default notranslate"><div class="highlight"><pre><span></span><span class="kn">import</span> <span class="nn">org.yuanheng.cookcc.</span><span class="o">*</span><span class="p">;</span>

<span class="nd">@CookCCOption</span> <span class="p">(</span><span class="n">lexerTable</span> <span class="o">=</span> <span class="s2">&quot;compressed&quot;</span><span class="p">,</span> <span class="n">parserTable</span> <span class="o">=</span> <span class="s2">&quot;compressed&quot;</span><span class="p">)</span>
<span class="n">public</span> <span class="k">class</span> <span class="nc">Calculator</span> <span class="n">extends</span> <span class="n">Parser</span>
<span class="p">{</span>
    <span class="o">//</span> <span class="n">code</span>
<span class="p">}</span>
</pre></div>
</div>
<p>The generated class is actually the parent class of <code class="docutils literal notranslate"><span class="pre">Calculator</span></code>, in
this case, <code class="docutils literal notranslate"><span class="pre">Parser</span></code> class (which needs to be in the same package as
<code class="docutils literal notranslate"><span class="pre">Calculator</span></code>). Since we haven’t really generated this class yet, so
what we needed to do to work on the <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> class without the
error in editor (assuming that you are using a decent Java IDE such as
Eclipse or IntelliJ IDEA) is to create an empty <code class="docutils literal notranslate"><span class="pre">Parser.java</span></code> like the
following code.</p>
<div class="code java highlight-default notranslate"><div class="highlight"><pre><span></span>/* Copyright (c) 2008 by Heng Yuan */
import org.yuanheng.cookcc.CookCCByte;

/**
 * @author Heng Yuan
 * @version $Id$
 */
public class Parser extends CookCCByte
{
}
</pre></div>
</div>
<p>Notice that we have the file header (copyright notice) and the class
header. CookCC Java input will keep these in the generated class. It
also keep the scope of the class, <code class="docutils literal notranslate"><span class="pre">public</span></code> in this case.  In general
as a good practice though, the generated class should be in the same
package of <code class="docutils literal notranslate"><span class="pre">Calculator</span></code>, and in the package scope.</p>
<p><code class="docutils literal notranslate"><span class="pre">CookCCByte</span></code> is class that contains all the possible generated
functions (not all of them will be available depending on the options
and the patterns/rules), so that code in <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> can use them in
advance. Since we are not dealing with Unicode, so we extend
<code class="docutils literal notranslate"><span class="pre">CookCCByte</span></code> class. For lexers that deal with Unicode, extend
<code class="docutils literal notranslate"><span class="pre">CookCCChar</span></code> class.</p>
<p>Note that all the CookCC annotations and <code class="docutils literal notranslate"><span class="pre">CookCCByte</span></code> are merely
required for compile time, they are not required for runtime. The
generated class no longer extends <code class="docutils literal notranslate"><span class="pre">CookCCByte</span></code>.</p>
</div>
<div class="section" id="second-step-mark-a-token-enum">
<h3>Second Step: Mark a Token Enum<a class="headerlink" href="#second-step-mark-a-token-enum" title="Permalink to this headline">¶</a></h3>
<p>If you are only going to use a <a class="reference external" href="Input-Java-Lexer.html">lexer</a>, you
can skip this section.</p>
<p>Within <code class="docutils literal notranslate"><span class="pre">Calculator</span></code> class, you can specify the token
<a class="reference external" href="http://java.sun.com/j2se/1.5.0/docs/guide/language/enums.html">Enum</a>
class. It is not required to have this Enum as a nested class of
<code class="docutils literal notranslate"><span class="pre">Calculator</span></code> since <code class="docutils literal notranslate"><span class="pre">&#64;CookCCOption</span></code> can be used to specify the Enum
class defined elsewhere. However, I personally find that having such
nested declaration makes it more visual.</p>
<p>Use <code class="docutils literal notranslate"><span class="pre">&#64;CookCCToken</span></code> to mark a Enum declaration. All the names defined
here are all treated as terminals by CookCC.</p>
<p>To specify the precedence and the type, mark a token with
<code class="docutils literal notranslate"><span class="pre">&#64;TokenGroup</span></code> and set its type to LEFT, RIGHT or NONASSOC. If the type
is not specified, it is assumed to be NONASSOC. All unmarked tokens
would inherit the precedence and type of the previous token.</p>
<p>You can use <a class="reference external" href="http://java.sun.com/j2se/1.5.0/docs/guide/language/static-import.html">static
import</a>
to avoid typing <code class="docutils literal notranslate"><span class="pre">TokenType.LEFT</span></code> and only need to type <code class="docutils literal notranslate"><span class="pre">LEFT</span></code>. I
dislike static import, and I copy/paste code anyways. So it doesn’t
really matter.</p>
<div class="code java highlight-default notranslate"><div class="highlight"><pre><span></span><span class="nd">@CookCCToken</span>
<span class="n">static</span> <span class="n">enum</span> <span class="n">Token</span>
<span class="p">{</span>
    <span class="nd">@TokenGroup</span>
    <span class="n">VARIABLE</span><span class="p">,</span> <span class="n">INTEGER</span><span class="p">,</span> <span class="n">WHILE</span><span class="p">,</span> <span class="n">IF</span><span class="p">,</span> <span class="n">PRINT</span><span class="p">,</span> <span class="n">ASSIGN</span><span class="p">,</span> <span class="n">SEMICOLON</span><span class="p">,</span>
    <span class="nd">@TokenGroup</span>
    <span class="n">IFX</span><span class="p">,</span>
    <span class="nd">@TokenGroup</span>
    <span class="n">ELSE</span><span class="p">,</span>

    <span class="nd">@TokenGroup</span> <span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
    <span class="n">GE</span><span class="p">,</span> <span class="n">LE</span><span class="p">,</span> <span class="n">EQ</span><span class="p">,</span> <span class="n">NE</span><span class="p">,</span> <span class="n">LT</span><span class="p">,</span> <span class="n">GT</span><span class="p">,</span>
    <span class="nd">@TokenGroup</span> <span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
    <span class="n">ADD</span><span class="p">,</span> <span class="n">SUB</span><span class="p">,</span>
    <span class="nd">@TokenGroup</span> <span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
    <span class="n">MUL</span><span class="p">,</span> <span class="n">DIV</span><span class="p">,</span>
    <span class="nd">@TokenGroup</span> <span class="p">(</span><span class="nb">type</span> <span class="o">=</span> <span class="n">TokenType</span><span class="o">.</span><span class="n">LEFT</span><span class="p">)</span>
    <span class="n">UMINUS</span>
<span class="p">}</span>
</pre></div>
</div>
<p>One of the unfortunate drawback of using Enum token is that it is
necessary to give a name to terminals such as <code class="docutils literal notranslate"><span class="pre">'='</span></code> <code class="docutils literal notranslate"><span class="pre">'&lt;'</span></code>, etc. On
the other hand, it is good to have them defined since it is easier to
use them in abstract syntax trees (ASTs).</p>
<p>(Currently, CookCC does not have a tree generator yet. Hopefully it can
be added in the near future.)</p>
</div>
</div>
</div>


           </div>
           <div class="articleComments">
            
           </div>
          </div>
          <footer>
  

  <hr/>

  <div role="contentinfo">
    <p>
        &copy; Copyright 2017-2018, Heng Yuan.

    </p>
  </div>
  Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a <a href="https://github.com/snide/sphinx_rtd_theme">theme</a> provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  


  

    <script type="text/javascript">
        var DOCUMENTATION_OPTIONS = {
            URL_ROOT:'./',
            VERSION:'0.4.3',
            COLLAPSE_INDEX:false,
            FILE_SUFFIX:'.html',
            HAS_SOURCE:  true,
            SOURCELINK_SUFFIX: '.txt'
        };
    </script>
      <script type="text/javascript" src="_static/jquery.js"></script>
      <script type="text/javascript" src="_static/underscore.js"></script>
      <script type="text/javascript" src="_static/doctools.js"></script>

  

  
  
    <script type="text/javascript" src="_static/js/theme.js"></script>
  

  
  
  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.StickyNav.enable();
      });
  </script>
   

</body>
</html>